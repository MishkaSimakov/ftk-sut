<?php

namespace Tests\Unit\Articles;

use App\Models\Article;
use App\Models\ArticlePoint;
use App\Models\User;
use CyrildeWit\EloquentViewable\Contracts\Views;
use Tests\TestCase;

class ArticlesTest extends TestCase
{
    public function test_it_compute_is_published_attribute_correctly_when_article_is_published()
    {
        $article = Article::factory()->create([
            'date' => now()->subDay()
        ]);

        $this->assertTrue($article->is_published);
    }

    public function test_it_compute_is_published_attribute_correctly_when_article_is_not_published()
    {
        $article = Article::factory()->create([
            'date' => now()->addDay()
        ]);

        $this->assertFalse($article->is_published);
    }

    public function test_article_has_views_count()
    {
        $article = Article::factory()->create();

        $this->assertInstanceOf(Views::class, views($article));
    }

    public function test_it_remove_views_on_delete()
    {
        $article = Article::factory()->create();

        views($article)->record();

        $this->assertDatabaseHas('views', ['viewable_id' => $article->id]);

        $article->delete();

        $this->assertDatabaseMissing('views', ['viewable_id' => $article->id]);
    }

    public function test_it_prepare_body_when_creating()
    {
        $article = Article::factory()->create([
            'body' => $body = '<p>12321321</p><p><img src="data:image/jpeg;base64,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" alt="" width="140" height="140" /></p>'
        ]);

        $this->assertNotEquals($body, $article->body);
    }

    public function test_it_prepare_body_when_updating()
    {
        $article = Article::factory()->create();

        $article->update([
            'body' => $body = '<p>12321321</p><p><img src="data:image/jpeg;base64,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" alt="" width="140" height="140" /></p>'
        ]);

        $this->assertNotEquals($body, $article->body);
    }

    public function test_it_has_points()
    {
        $article = Article::factory()->create();
        $user = User::factory()->create();

        $article->toggleLikeBy($user);

        $this->assertInstanceOf(User::class, $article->points->first());
    }
}
